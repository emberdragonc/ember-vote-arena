(()=>{var e={};e.id=1572,e.ids=[1572],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},98188:e=>{"use strict";e.exports=require("module")},41808:e=>{"use strict";e.exports=require("net")},6005:e=>{"use strict";e.exports=require("node:crypto")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},7177:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),r(80646),r(84752),r(35866);var s=r(23191),a=r(88716),n=r(37922),i=r.n(n),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,80646)),"/home/clawdbot/projects/ember-vote-arena/frontend/app/create/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,84752)),"/home/clawdbot/projects/ember-vote-arena/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/home/clawdbot/projects/ember-vote-arena/frontend/app/create/page.tsx"],u="/create/page",x={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/create/page",pathname:"/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},62554:(e,t,r)=>{Promise.resolve().then(r.bind(r,92834))},92834:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(10326),a=r(17577),n=r(95224),i=r(37945),o=r(73952),l=r(40718),c=r(36706),d=r(10647),u=r(87155);function x(e,t="wei"){return function(e,t){let[r,s="0"]=e.split("."),a=r.startsWith("-");if(a&&(r=r.slice(1)),s=s.replace(/(0+)$/,""),0===t)1===Math.round(Number(`.${s}`))&&(r=`${BigInt(r)+1n}`),s="";else if(s.length>t){let[e,a,n]=[s.slice(0,t-1),s.slice(t-1,t),s.slice(t)],i=Math.round(Number(`${a}.${n}`));(s=i>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${i}`).length>t&&(s=s.slice(1),r=`${BigInt(r)+1n}`),s=s.slice(0,t)}else s=s.padEnd(t,"0");return BigInt(`${a?"-":""}${r}${s}`)}(e,u.ez[t])}var m=r(86889),p=r(90434),g=r(35047),h=r(54957),b=r(56989);let y=x("100000");function f(){(0,g.useRouter)();let e=(0,n.x)(),{address:t,isConnected:r}=(0,i.m)(),u=h.qE[e]||h.qE[b.L.id],[f,j]=(0,a.useState)(""),[v,N]=(0,a.useState)(""),[w,q]=(0,a.useState)("10000"),[C,k]=(0,a.useState)("6"),[E,P]=(0,a.useState)("6"),{data:B}=(0,o.u)({address:u.ember,abi:h.RB,functionName:"allowance",args:t?[t,u.arena]:void 0}),{data:_}=(0,o.u)({address:u.ember,abi:h.RB,functionName:"balanceOf",args:t?[t]:void 0}),M=!B||B<y,{writeContract:$,data:D,isPending:S}=(0,l.S)(),{isLoading:R,isSuccess:A}=(0,c.A)({hash:D}),{writeContract:I,data:L,isPending:G}=(0,l.S)(),{isLoading:z,isSuccess:O}=(0,c.A)({hash:L});return O?s.jsx("main",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 py-12 px-4",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto text-center",children:[s.jsx("div",{className:"text-6xl mb-6",children:"\uD83C\uDF89"}),s.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Market Created!"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Your voting market is now live."}),s.jsx("div",{className:"flex items-center justify-center gap-4",children:s.jsx(p.default,{href:"/",className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-medium transition-colors",children:"Back to Home"})})]})}):(0,s.jsxs)("main",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900",children:[s.jsx("header",{className:"border-b border-gray-700 bg-gray-900/50 backdrop-blur-sm sticky top-0 z-50",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,s.jsxs)(p.default,{href:"/",className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-3xl",children:"\uD83D\uDC09"}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Ember Vote Arena"})]}),s.jsx(d.NL,{})]})}),(0,s.jsxs)("div",{className:"max-w-2xl mx-auto py-12 px-4",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Create Voting Market"}),s.jsx("p",{className:"text-gray-400 mb-8",children:"Cost: 100,000 EMBER (burned)"}),r?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Market Title"}),s.jsx("input",{type:"text",value:f,onChange:e=>j(e.target.value),placeholder:"e.g., Best Cat Photo Contest",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-orange-500"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Entry Rules (for AI filtering)"}),s.jsx("textarea",{value:v,onChange:e=>N(e.target.value),placeholder:"e.g., Only cat photos allowed. No dogs, other animals, or memes.",rows:3,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-orange-500"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ember \uD83D\uDC09 will filter entries based on these rules"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Entry Cost (EMBER)"}),s.jsx("input",{type:"number",value:w,onChange:e=>q(e.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-orange-500"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Entry Phase (hours)"}),s.jsx("input",{type:"number",value:C,onChange:e=>k(e.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-orange-500"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Voting Phase (hours)"}),s.jsx("input",{type:"number",value:E,onChange:e=>P(e.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-orange-500"})]})]}),(0,s.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Your Balance:"}),(0,s.jsxs)("span",{className:"text-white",children:[_?(0,m.d)(_):"0"," EMBER"]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm mt-2",children:[s.jsx("span",{className:"text-gray-400",children:"Market Creation Fee:"}),s.jsx("span",{className:"text-orange-500",children:"100,000 EMBER (burned)"})]})]}),s.jsx("div",{className:"flex gap-4",children:M&&!A?s.jsx("button",{onClick:()=>{$({address:u.ember,abi:h.RB,functionName:"approve",args:[u.arena,y]})},disabled:S||R,className:"flex-1 py-4 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:S||R?"Approving...":"Approve EMBER"}):s.jsx("button",{onClick:()=>{I({address:u.arena,abi:h.w$,functionName:"createMarket",args:[f,v,x(w),BigInt(3600*Number(C)),BigInt(3600*Number(E))]})},disabled:G||z||!f||!v,className:"flex-1 py-4 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:G||z?"Creating...":"Create Market \uD83D\uDD25"})})]}):(0,s.jsxs)("div",{className:"bg-gray-800 rounded-xl p-8 text-center",children:[s.jsx("p",{className:"text-gray-400 mb-4",children:"Connect your wallet to create a market"}),s.jsx(d.NL,{})]})]})]})}},80646:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var s=r(68570);let a=(0,s.createProxy)(String.raw`/home/clawdbot/projects/ember-vote-arena/frontend/app/create/page.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let o=(0,s.createProxy)(String.raw`/home/clawdbot/projects/ember-vote-arena/frontend/app/create/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[9754,2066,9842],()=>r(7177));module.exports=s})();