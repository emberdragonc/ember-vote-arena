(()=>{var e={};e.id=1572,e.ids=[1572],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},98188:e=>{"use strict";e.exports=require("module")},41808:e=>{"use strict";e.exports=require("net")},6005:e=>{"use strict";e.exports=require("node:crypto")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},7177:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>c}),r(80646),r(84752),r(35866);var s=r(23191),a=r(88716),l=r(37922),n=r.n(l),i=r(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let c=["",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,80646)),"/home/clawdbot/projects/ember-vote-arena/frontend/app/create/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,84752)),"/home/clawdbot/projects/ember-vote-arena/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/home/clawdbot/projects/ember-vote-arena/frontend/app/create/page.tsx"],x="/create/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/create/page",pathname:"/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},62554:(e,t,r)=>{Promise.resolve().then(r.bind(r,92834))},92834:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(10326),a=r(17577),l=r(95224),n=r(37945),i=r(73952),o=r(40718),c=r(36706),d=r(10647),x=r(87155);function u(e,t="wei"){return function(e,t){let[r,s="0"]=e.split("."),a=r.startsWith("-");if(a&&(r=r.slice(1)),s=s.replace(/(0+)$/,""),0===t)1===Math.round(Number(`.${s}`))&&(r=`${BigInt(r)+1n}`),s="";else if(s.length>t){let[e,a,l]=[s.slice(0,t-1),s.slice(t-1,t),s.slice(t)],n=Math.round(Number(`${a}.${l}`));(s=n>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${n}`).length>t&&(s=s.slice(1),r=`${BigInt(r)+1n}`),s=s.slice(0,t)}else s=s.padEnd(t,"0");return BigInt(`${a?"-":""}${r}${s}`)}(e,x.ez[t])}var m=r(86889),b=r(90434),p=r(54957),g=r(56989);let h=u("100000"),y=[{symbol:"EMBER",name:"$EMBER",address:null,decimals:18},{symbol:"USDC",name:"USDC",address:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",decimals:6},{symbol:"ETH",name:"ETH",address:null,decimals:18},{symbol:"USDT",name:"USDT",address:"0xfde4C96c8593536E31F229EA8f37b2ADa2699bb2",decimals:6}];function f(){let e=(0,l.x)(),{address:t,isConnected:r}=(0,n.m)(),x=p.qE[e]||p.qE[g.L.id],[f,j]=(0,a.useState)(""),[N,v]=(0,a.useState)(""),[w,E]=(0,a.useState)("10000"),[q,C]=(0,a.useState)("6"),[k,B]=(0,a.useState)("6"),[M,$]=(0,a.useState)("EMBER"),{data:S}=(0,i.u)({address:x.ember,abi:p.RB,functionName:"allowance",args:t?[t,x.arena]:void 0}),{data:P}=(0,i.u)({address:x.ember,abi:p.RB,functionName:"balanceOf",args:t?[t]:void 0}),D=!S||S<h,_="EMBER"===M,{writeContract:R,data:A,isPending:T}=(0,o.S)(),{isLoading:I,isSuccess:U}=(0,c.A)({hash:A}),{writeContract:F,data:G,isPending:L}=(0,o.S)(),{isLoading:W,isSuccess:z}=(0,c.A)({hash:G});if(z)return s.jsx("main",{className:"min-h-screen bg-gray-950 py-12 px-4",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto text-center pt-20",children:[s.jsx("div",{className:"text-6xl mb-6",children:"\uD83C\uDF89"}),s.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Market Created!"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Your voting market is now live."}),s.jsx("div",{className:"flex items-center justify-center gap-4",children:s.jsx(b.default,{href:"/",className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-xl font-medium transition-colors",children:"Back to Home"})})]})});let H=_?null:{pay:({USDC:100,ETH:.04,USDT:100})[M]||100,receive:"100,000",symbol:M};return(0,s.jsxs)("main",{className:"min-h-screen bg-gray-950",children:[s.jsx("nav",{className:"fixed top-0 w-full z-50 bg-gray-950/80 backdrop-blur-xl border-b border-gray-800/50",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx(b.default,{href:"/",className:"text-xl font-bold text-white",children:"The Arena"}),s.jsx(d.NL,{})]})}),(0,s.jsxs)("div",{className:"max-w-2xl mx-auto pt-28 pb-20 px-4",children:[s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Create Voting Market"}),s.jsx("p",{className:"text-gray-400 mb-8",children:"Start a community vote on any topic"}),r?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Market Title"}),s.jsx("input",{type:"text",value:f,onChange:e=>j(e.target.value),placeholder:"e.g., Best Meme of the Week",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),(0,s.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Entry Rules"}),s.jsx("textarea",{value:N,onChange:e=>v(e.target.value),placeholder:"e.g., Only original memes allowed. No reposts, NSFW, or off-topic content.",rows:3,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-blue-500"}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"AI will filter entries based on these rules"})]}),(0,s.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Entry Cost ($EMBER)"}),s.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Amount users pay to submit an entry. Goes into the prize pot."}),s.jsx("input",{type:"number",value:w,onChange:e=>E(e.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-xl text-white focus:outline-none focus:border-blue-500"})]}),s.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Entry Phase (hours)"}),s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Window for submitting entries"}),s.jsx("input",{type:"number",value:q,onChange:e=>C(e.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-xl text-white focus:outline-none focus:border-blue-500"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Voting Phase (hours)"}),s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Window for casting votes"}),s.jsx("input",{type:"number",value:k,onChange:e=>B(e.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-xl text-white focus:outline-none focus:border-blue-500"})]})]})}),(0,s.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Market Creation Fee"}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Pay with"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:y.map(e=>s.jsx("button",{onClick:()=>$(e.symbol),className:`py-3 px-4 rounded-xl text-sm font-medium transition-all ${M===e.symbol?"bg-blue-500 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:e.symbol},e.symbol))})]}),s.jsx("div",{className:"bg-gray-800/50 rounded-xl p-4 mb-4",children:_?(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-400",children:"Creation Fee:"}),(0,s.jsxs)("div",{className:"text-right",children:[s.jsx("span",{className:"text-white font-semibold",children:"100,000 $EMBER"}),(0,s.jsxs)("span",{className:"text-gray-500 text-sm ml-2",children:["(â‰ˆ $",100,")"]})]})]}):(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-400",children:"You pay:"}),(0,s.jsxs)("span",{className:"text-white font-semibold",children:[H?.pay," ",H?.symbol]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Swaps to:"}),(0,s.jsxs)("span",{className:"text-gray-400",children:[H?.receive," $EMBER"]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Then burned:"}),s.jsx("span",{className:"text-blue-400",children:"100,000 $EMBER \uD83D\uDD25"})]})]})}),(0,s.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-400",children:"Your $EMBER Balance:"}),s.jsx("span",{className:"text-white",children:P?function(e){let t=e.split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}((0,m.d)(P)):"0"})]}),_&&s.jsx("div",{className:"mt-4 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:s.jsx("p",{className:"text-blue-400 text-sm",children:"\uD83D\uDCA1 Don't have $EMBER? Select another token above to pay with any token on Base."})}),s.jsx("p",{className:"text-xs text-gray-500 mt-3 text-center",children:"100,000 $EMBER is burned when creating a market"})]}),s.jsx("div",{className:"flex gap-4",children:_?D&&!U?s.jsx("button",{onClick:()=>{R({address:x.ember,abi:p.RB,functionName:"approve",args:[x.arena,h]})},disabled:T||I,className:"flex-1 py-4 bg-gray-700 hover:bg-gray-600 text-white rounded-xl font-semibold transition-colors disabled:opacity-50",children:T||I?"Approving...":"Approve $EMBER"}):s.jsx("button",{onClick:()=>{F({address:x.arena,abi:p.w$,functionName:"createMarket",args:[f,N,u(w),BigInt(3600*Number(q)),BigInt(3600*Number(k))]})},disabled:L||W||!f||!N,className:"flex-1 py-4 bg-blue-500 hover:bg-blue-600 text-white rounded-xl font-semibold transition-colors disabled:opacity-50",children:L||W?"Creating...":"Create Market"}):s.jsx("button",{disabled:!f||!N,className:"flex-1 py-4 bg-blue-500 hover:bg-blue-600 text-white rounded-xl font-semibold transition-colors disabled:opacity-50",children:"Swap & Create Market"})})]}):(0,s.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-8 text-center",children:[s.jsx("p",{className:"text-gray-400 mb-4",children:"Connect your wallet to create a market"}),s.jsx(d.NL,{})]})]})]})}},80646:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>l,default:()=>i});var s=r(68570);let a=(0,s.createProxy)(String.raw`/home/clawdbot/projects/ember-vote-arena/frontend/app/create/page.tsx`),{__esModule:l,$$typeof:n}=a;a.default;let i=(0,s.createProxy)(String.raw`/home/clawdbot/projects/ember-vote-arena/frontend/app/create/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,4123,2066,9842],()=>r(7177));module.exports=s})();